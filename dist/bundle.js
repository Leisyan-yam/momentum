(()=>{"use strict";const e=function(){const e=(new Date).getHours();return e>=0&&e<6?"night":e>=6&&e<12?"moning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":void 0}(),t=document.querySelector(".city"),n=document.querySelector(".weather-icon"),o=document.querySelector(".temperature"),c=document.querySelector(".wind"),a=document.querySelector(".humidity"),r=document.querySelector(".weather-description");async function s(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${t.value}&lang=en&appid=220f1a20c077642d5fc05a18fee6d4d9&units=metric`,s=await fetch(e),i=await s.json();n.classList.add(`owf-${i.weather[0].id}`),o.textContent=`${Math.round(i.main.temp)}Â°C`,r.textContent=i.weather[0].description,c.textContent=`Wind speed ${Math.round(i.wind.speed)} m/s `,a.textContent=`Humidity: ${i.main.humidity} %`}t.addEventListener("change",s);const i=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"00:58"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"00:58"}],u=document.querySelector(".play"),l=document.querySelector(".play-next"),d=document.querySelector(".play-prev"),m=document.querySelector(".play-list"),y=new Audio;let g=!1,p=0;for(let e=0;e<i.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=i[e].title,m.append(t)}function S(){g?(y.pause(),g=!1,u.classList.remove("pause")):(y.src=i[p].src,y.currentTime=0,y.play(),u.classList.add("pause"),document.querySelectorAll(".play-item").forEach((e=>{e.innerHTML==i[p].title?e.classList.add("item-active"):e.classList.remove("item-active")})),g=!0)}const h=document.querySelector(".slide-next"),q=document.querySelector(".slide-prev");let f=function(){let e=String(Math.floor(20*Math.random()+1));return e.length>1?e:e.padStart(2,0)}();function w(){const t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${f}.jpg`,t.onload=()=>{document.body.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${f}.jpg')`}}s(),function t(){const n=document.querySelector(".time"),o=(new Date).toLocaleTimeString();n.textContent=o,function(){const e=document.querySelector(".date"),t=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});e.textContent=t}(),document.querySelector(".greeting").textContent=`Good ${e},`,setTimeout(t,1e3)}(),async function(){const e=await fetch("data.json"),t=await e.json(),n=document.querySelector(".change-quote"),o=document.querySelector(".quote"),c=document.querySelector(".author");o.textContent=t[0].text,c.textContent=t[0].author,n.addEventListener("click",(function(){let e=Math.floor(15*Math.random()+"1");o.textContent=t[e].text,c.textContent=t[e].author}))}(),l.addEventListener("click",(function(){p+=1,p>i.length-1&&(p=0),g=!1,S()})),d.addEventListener("click",(function(){p-=1,p<0&&(p=i.length-1),g=!1,S()})),u.addEventListener("click",S),h.addEventListener("click",(function(){f=parseInt(f)+1,f>20&&(f=1),f<10&&(f="0"+f),w()})),q.addEventListener("click",(function(){f=parseInt(f)+1,f<1&&(f=20),f<10&&(f="0"+f),w()})),w(),window.addEventListener("beforeunload",(function(){const e=document.querySelector(".city"),t=document.querySelector(".name");localStorage.setItem("name",t.value),localStorage.setItem("city",e.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(document.querySelector(".name").value=localStorage.getItem("name")),localStorage.getItem("city")&&(document.querySelector(".city").value=localStorage.getItem("city"))}))})();
//# sourceMappingURL=bundle.js.map