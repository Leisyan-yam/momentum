(()=>{"use strict";const e=function(){const e=(new Date).getHours();return e>=0&&e<6?"night":e>=6&&e<12?"moning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":void 0}(),t=document.querySelector(".city"),n=document.querySelector(".weather-icon"),o=document.querySelector(".temperature"),a=document.querySelector(".wind"),c=document.querySelector(".humidity"),r=document.querySelector(".weather-description");async function s(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${t.value}&lang=en&appid=220f1a20c077642d5fc05a18fee6d4d9&units=metric`,s=await fetch(e),u=await s.json();n.classList.add(`owf-${u.weather[0].id}`),o.textContent=`${Math.round(u.main.temp)}Â°C`,r.textContent=u.weather[0].description,a.textContent=`Wind speed ${Math.round(u.wind.speed)} m/s `,c.textContent=`Humidity: ${u.main.humidity} %`}t.addEventListener("change",s);const u=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"00:58"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"00:58"}],i=document.querySelector(".play"),l=document.querySelector(".play-next"),d=document.querySelector(".play-prev"),m=document.querySelector(".play-list"),y=document.querySelector(".current-time"),g=document.querySelector(".song-duration"),v=document.querySelector(".seek-bar"),p=document.querySelector(".name-audio"),S=document.querySelector(".volume-range"),h=document.querySelector(".volumeBtn"),f=new Audio;let q=0;const L=()=>{v.value=0,f.volume=.2,S.value=20,f.src=u[q].src,y.innerHTML="00:00",f.play(),setTimeout((()=>{v.max=f.duration,g.innerHTML=w(f.duration)}),300),setInterval((()=>{v.value=f.currentTime,y.innerHTML=w(f.currentTime),Math.floor(f.currentTime)==Math.floor(v.max)&&l.click()}),500),p.textContent=u[q].title,document.querySelectorAll(".play-item").forEach((e=>{e.textContent==u[q].title?e.classList.add("item-active"):e.classList.remove("item-active")}))};for(let e=0;e<u.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=u[e].title,m.append(t)}const w=e=>{let t=Math.floor(e/60);t<10&&(t=`0${t}`);let n=Math.floor(e%60);return n<10&&(n=`0${n}`),`${t} : ${n}`};const x=document.querySelector(".slide-next"),C=document.querySelector(".slide-prev");let E=function(){let e=String(Math.floor(20*Math.random()+1));return e.length>1?e:e.padStart(2,0)}();function M(){const t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${E}.jpg`,t.onload=()=>{document.body.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${E}.jpg')`}}s(),function t(){const n=document.querySelector(".time"),o=(new Date).toLocaleTimeString();n.textContent=o,function(){const e=document.querySelector(".date"),t=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});e.textContent=t}(),document.querySelector(".greeting").textContent=`Good ${e},`,setTimeout(t,1e3)}(),async function(){const e=await fetch("data.json"),t=await e.json(),n=document.querySelector(".change-quote"),o=document.querySelector(".quote"),a=document.querySelector(".author");o.textContent=t[0].text,a.textContent=t[0].author,n.addEventListener("click",(function(){let e=Math.floor(15*Math.random()+"1");o.textContent=t[e].text,a.textContent=t[e].author}))}(),l.addEventListener("click",(function(){q+=1,q>u.length-1&&(q=0),i.classList.add("pause"),L()})),d.addEventListener("click",(function(){q-=1,q<0&&(q=u.length-1),i.classList.add("pause"),L()})),S.addEventListener("change",(function(){f.volume=S.value/100})),h.addEventListener("click",(()=>{h.classList.contains("volume-Off")?(h.classList.remove("volume-Off"),f.volume=1):(f.volume=0,h.classList.add("volume-Off"))})),v.addEventListener("change",(()=>{f.currentTime=v.value})),i.addEventListener("click",(()=>{i.classList.contains("pause")?(i.classList.remove("pause"),f.pause()):(L(),i.classList.add("pause"))})),x.addEventListener("click",(function(){E=parseInt(E)+1,E>20&&(E=1),E<10&&(E="0"+E),M()})),C.addEventListener("click",(function(){E=parseInt(E)+1,E<1&&(E=20),E<10&&(E="0"+E),M()})),M(),window.addEventListener("beforeunload",(function(){const e=document.querySelector(".city"),t=document.querySelector(".name");localStorage.setItem("name",t.value),localStorage.setItem("city",e.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(document.querySelector(".name").value=localStorage.getItem("name")),localStorage.getItem("city")&&(document.querySelector(".city").value=localStorage.getItem("city"))}))})();
//# sourceMappingURL=bundle.js.map