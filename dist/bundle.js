(()=>{"use strict";const e=function(){const e=(new Date).getHours();return e>=0&&e<6?"night":e>=6&&e<12?"moning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":void 0}(),t=document.querySelector(".city"),n=document.querySelector(".weather-icon"),o=document.querySelector(".temperature"),a=document.querySelector(".wind"),c=document.querySelector(".humidity"),r=document.querySelector(".weather-description");async function s(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${t.value}&lang=en&appid=220f1a20c077642d5fc05a18fee6d4d9&units=metric`,s=await fetch(e),i=await s.json();n.classList.add(`owf-${i.weather[0].id}`),o.textContent=`${Math.round(i.main.temp)}Â°C`,r.textContent=i.weather[0].description,a.textContent=`Wind speed ${Math.round(i.wind.speed)} m/s `,c.textContent=`Humidity: ${i.main.humidity} %`}t.addEventListener("change",s);let i=function(){let e=String(Math.floor(20*Math.random()+1));return e.length>1?e:e.padStart(2,0)}();const u=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"00:58"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"00:58"}],l=document.querySelector(".play"),d=document.querySelector(".play-next"),m=document.querySelector(".play-prev"),y=document.querySelector(".play-list"),g=new Audio;let p=!1,h=0;for(let e=0;e<u.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=u[e].title,y.append(t)}function S(){p?(g.pause(),p=!1,l.classList.remove("pause")):(g.src=u[h].src,g.currentTime=0,g.play(),l.classList.add("pause"),document.querySelectorAll(".play-item").forEach((e=>{e.innerHTML==u[h].title?e.classList.add("item-active"):e.classList.remove("item-active")})),p=!0)}s(),function t(){const n=document.querySelector(".time"),o=(new Date).toLocaleTimeString();n.textContent=o,function(){const e=document.querySelector(".date"),t=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});e.textContent=t}(),document.querySelector(".greeting").textContent=`Good ${e},`,setTimeout(t,1e3)}(),async function(){const e=await fetch("data.json"),t=await e.json(),n=document.querySelector(".change-quote"),o=document.querySelector(".quote"),a=document.querySelector(".author");o.textContent=t[0].text,a.textContent=t[0].author,n.addEventListener("click",(function(){let e=Math.floor(15*Math.random()+"1");o.textContent=t[e].text,a.textContent=t[e].author}))}(),function(){const t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${i}.jpg`,t.onload=()=>{document.body.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${i}.jpg')`}}(),d.addEventListener("click",(function(){h+=1,h>u.length-1&&(h=0),p=!1,S()})),m.addEventListener("click",(function(){h-=1,h<0&&(h=u.length-1),p=!1,S()})),l.addEventListener("click",S),window.addEventListener("beforeunload",(function(){const e=document.querySelector(".city"),t=document.querySelector(".name");localStorage.setItem("name",t.value),localStorage.setItem("city",e.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(document.querySelector(".name").value=localStorage.getItem("name")),localStorage.getItem("city")&&(document.querySelector(".city").value=localStorage.getItem("city"))}))})();
//# sourceMappingURL=bundle.js.map